/******************************************
 * @name Áª≥Â∏àùêíùêå
 * @description Ëß£ÈîÅ‰ºöÂëòËßÜÈ¢ë
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @version 1.0.2
******************************************

## ËÑöÊú¨Ê≥®Êòé

1. ËÑöÊú¨Âè™ÊòØÈíàÂØπÂü∫‰∫é Quantumult X Âíå Surge ÂØπ Javascript Âíå WEB ÈÄÜÂêëÁöÑÂ≠¶‰π†Ôºå‰∏çÂæóÁî®‰∫éÂïÜ‰∏öÁî®ÈÄîÔºåÂê¶ÂàôÂêéÊûúËá™Ë¥ü„ÄÇ
2. ‰∏ç‰øùËØÅËÑöÊú¨ÂêàÊ≥ïÊÄß„ÄÅÂáÜÁ°ÆÊÄß„ÄÅÊúâÊïàÊÄßÔºåËØ∑Ê†πÊçÆÊÉÖÂÜµËá™Ë°åÂà§Êñ≠ÔºåÊú¨‰∫∫ÂØπÊ≠§‰∏çÊâøÊãÖ‰ªª‰Ωï‰øùËØÅË¥£‰ªª„ÄÇ
3. Êú¨‰∫∫ÂØπ‰ªª‰ΩïËÑöÊú¨ÂºïÂèëÁöÑÈóÆÈ¢òÊ¶Ç‰∏çË¥üË¥£ÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÁî±ËÑöÊú¨ÈîôËØØÂºïËµ∑ÁöÑ‰ªª‰ΩïÊçüÂ§±ÂíåÊçüÂÆ≥„ÄÇ
4. ËΩ¨ËΩΩËÑöÊú¨ËØ∑Ê≥®ÊòéÊù•Ê∫êÔºåÊ¨¢ËøéÂàÜ‰∫´ÔºåÊãíÁªùÂÄíÂçñÔºåÂÄíÂçñ üêï ÂøÖÊ≠ª üêé„ÄÇ
5. Â¶ÇÊûú‰ªª‰ΩïÂçï‰ΩçÊàñ‰∏™‰∫∫ËÆ§‰∏∫Ê≠§ËÑöÊú¨ÂèØËÉΩÊ∂âÂ´å‰æµÁäØÂÖ∂ÊùÉÂà©ÔºåÂ∫îÂèäÊó∂ÈÄöÁü•Âπ∂Êèê‰æõË∫´‰ªΩËØÅÊòéÔºåÊâÄÊúâÊùÉËØÅÊòéÔºåÊàë‰ª¨Â∞ÜÂú®Êî∂Âà∞ËÆ§ËØÅÊñá‰ª∂Á°ÆËÆ§ÂêéÂà†Èô§Ê≠§ËÑöÊú¨„ÄÇ
6. ÊâÄÊúâÁõ¥Êé•ÊàñÈó¥Êé•‰ΩøÁî®„ÄÅÊü•ÁúãÊ≠§ËÑöÊú¨ÁöÑ‰∫∫ÂùáÂ∫îËØ•‰ªîÁªÜÈòÖËØªÊ≠§Â£∞Êòé, Êú¨‰∫∫‰øùÁïôÈöèÊó∂Êõ¥ÊîπÊàñË°•ÂÖÖÊ≠§Â£∞ÊòéÁöÑÊùÉÂà©, ‰∏ÄÊó¶ÊÇ®‰ΩøÁî®ÊàñÂ§çÂà∂‰∫ÜÊ≠§ËÑöÊú¨ÔºåÂç≥ËßÜ‰∏∫ÊÇ®Â∑≤Êé•ÂèóÊ≠§ÂÖçË¥£Â£∞Êòé„ÄÇ
7. Ê¨¢ËøéÂØπ[Êú¨‰ªìÂ∫ì](https://github.com/Yuheng0101/X)Star‚úÖÔºå‰ΩÜËØ∑‰∏çË¶Å Fork‚ùå„ÄÇ

[Áª≥Â∏àSM](https://syz.xn--fiq2km75ifcu.com/sssm.html?v=xboY40kLeg)

## Ëá¥Ë∞¢

[@Ëãç‰∫ïÁÅ∞ÁÅ∞](https://t.me/wangfei021325)

******************************************
hostname = *.sssm.info,*.cloudfront.net,*.ddosapi.cyou
# Ëß£ÈîÅ
^https?:\/\/.*(sssm|cloudfront|ddosapi).+\/api(\/v1|)\/videos(\/\w+|)\/show url script-request-header https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/sssm.js
# ‰∏™‰∫∫‰∏≠ÂøÉ
^https?:\/\/.*(sssm|cloudfront|ddosapi).+\/api(\/v1|)\/(banners|users\/get_profile) url script-response-body https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/sssm.js

*/
const $ = new Env('ùêíùêíùêíùêå')
var _0xodx='jsjiami.com.v7';function _0x2bb1(_0x3edd8c,_0xc86d05){const _0xb0a9f2=_0xb0a9();return _0x2bb1=function(_0x2bb19a,_0x13fa30){_0x2bb19a=_0x2bb19a-0x6e;let _0x42f6d2=_0xb0a9f2[_0x2bb19a];if(_0x2bb1['HYmIOJ']===undefined){var _0x15410a=function(_0x15b72c){const _0x37f869='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x17b0b9='',_0x29ae86='';for(let _0x5b3b25=0x0,_0x21eb4f,_0x30322f,_0x36a319=0x0;_0x30322f=_0x15b72c['charAt'](_0x36a319++);~_0x30322f&&(_0x21eb4f=_0x5b3b25%0x4?_0x21eb4f*0x40+_0x30322f:_0x30322f,_0x5b3b25++%0x4)?_0x17b0b9+=String['fromCharCode'](0xff&_0x21eb4f>>(-0x2*_0x5b3b25&0x6)):0x0){_0x30322f=_0x37f869['indexOf'](_0x30322f);}for(let _0x337006=0x0,_0x4336fc=_0x17b0b9['length'];_0x337006<_0x4336fc;_0x337006++){_0x29ae86+='%'+('00'+_0x17b0b9['charCodeAt'](_0x337006)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x29ae86);};const _0x4a89e9=function(_0x3f6ee3,_0x56b306){let _0x1a67e1=[],_0x129ddb=0x0,_0x6e3027,_0x4b42ae='';_0x3f6ee3=_0x15410a(_0x3f6ee3);let _0x41e1dc;for(_0x41e1dc=0x0;_0x41e1dc<0x100;_0x41e1dc++){_0x1a67e1[_0x41e1dc]=_0x41e1dc;}for(_0x41e1dc=0x0;_0x41e1dc<0x100;_0x41e1dc++){_0x129ddb=(_0x129ddb+_0x1a67e1[_0x41e1dc]+_0x56b306['charCodeAt'](_0x41e1dc%_0x56b306['length']))%0x100,_0x6e3027=_0x1a67e1[_0x41e1dc],_0x1a67e1[_0x41e1dc]=_0x1a67e1[_0x129ddb],_0x1a67e1[_0x129ddb]=_0x6e3027;}_0x41e1dc=0x0,_0x129ddb=0x0;for(let _0x615394=0x0;_0x615394<_0x3f6ee3['length'];_0x615394++){_0x41e1dc=(_0x41e1dc+0x1)%0x100,_0x129ddb=(_0x129ddb+_0x1a67e1[_0x41e1dc])%0x100,_0x6e3027=_0x1a67e1[_0x41e1dc],_0x1a67e1[_0x41e1dc]=_0x1a67e1[_0x129ddb],_0x1a67e1[_0x129ddb]=_0x6e3027,_0x4b42ae+=String['fromCharCode'](_0x3f6ee3['charCodeAt'](_0x615394)^_0x1a67e1[(_0x1a67e1[_0x41e1dc]+_0x1a67e1[_0x129ddb])%0x100]);}return _0x4b42ae;};_0x2bb1['UHHHnM']=_0x4a89e9,_0x3edd8c=arguments,_0x2bb1['HYmIOJ']=!![];}const _0x361306=_0xb0a9f2[0x0],_0x3554a7=_0x2bb19a+_0x361306,_0x2fa4f2=_0x3edd8c[_0x3554a7];return!_0x2fa4f2?(_0x2bb1['OIBywo']===undefined&&(_0x2bb1['OIBywo']=!![]),_0x42f6d2=_0x2bb1['UHHHnM'](_0x42f6d2,_0x13fa30),_0x3edd8c[_0x3554a7]=_0x42f6d2):_0x42f6d2=_0x2fa4f2,_0x42f6d2;},_0x2bb1(_0x3edd8c,_0xc86d05);}const _0x13e3e2=_0x2bb1;if(function(_0xc5bc9a,_0xb8888,_0x196b9b,_0x46a9c9,_0xc98874,_0x21ff1a,_0x3a5f44){return _0xc5bc9a=_0xc5bc9a>>0x5,_0x21ff1a='hs',_0x3a5f44='hs',function(_0x4ff8ba,_0x20f1df,_0x307085,_0x13f937,_0x3e2747){const _0x36c3c2=_0x2bb1;_0x13f937='tfi',_0x21ff1a=_0x13f937+_0x21ff1a,_0x3e2747='up',_0x3a5f44+=_0x3e2747,_0x21ff1a=_0x307085(_0x21ff1a),_0x3a5f44=_0x307085(_0x3a5f44),_0x307085=0x0;const _0x3fe21c=_0x4ff8ba();while(!![]&&--_0x46a9c9+_0x20f1df){try{_0x13f937=parseInt(_0x36c3c2(0x6f,'*MJJ'))/0x1+parseInt(_0x36c3c2(0xca,'v9dz'))/0x2*(parseInt(_0x36c3c2(0xfd,'*MJJ'))/0x3)+parseInt(_0x36c3c2(0x76,'C9RD'))/0x4*(parseInt(_0x36c3c2(0x93,'EQp('))/0x5)+-parseInt(_0x36c3c2(0xb7,'4eO6'))/0x6+-parseInt(_0x36c3c2(0xa9,'EQp('))/0x7*(-parseInt(_0x36c3c2(0x7a,'J(L4'))/0x8)+-parseInt(_0x36c3c2(0x88,'zWA9'))/0x9*(parseInt(_0x36c3c2(0x7c,'7)1m'))/0xa)+-parseInt(_0x36c3c2(0xb6,'*MJJ'))/0xb;}catch(_0x12dea4){_0x13f937=_0x307085;}finally{_0x3e2747=_0x3fe21c[_0x21ff1a]();if(_0xc5bc9a<=_0x46a9c9)_0x307085?_0xc98874?_0x13f937=_0x3e2747:_0xc98874=_0x3e2747:_0x307085=_0x3e2747;else{if(_0x307085==_0xc98874['replace'](/[rMxWqLFeRnhKpEIbOGQBf=]/g,'')){if(_0x13f937===_0x20f1df){_0x3fe21c['un'+_0x21ff1a](_0x3e2747);break;}_0x3fe21c[_0x3a5f44](_0x3e2747);}}}}}(_0x196b9b,_0xb8888,function(_0x4d0be3,_0x4e733b,_0x37d173,_0xd8792d,_0x1b6dba,_0x1978bf,_0x5eb104){return _0x4e733b='\x73\x70\x6c\x69\x74',_0x4d0be3=arguments[0x0],_0x4d0be3=_0x4d0be3[_0x4e733b](''),_0x37d173='\x72\x65\x76\x65\x72\x73\x65',_0x4d0be3=_0x4d0be3[_0x37d173]('\x76'),_0xd8792d='\x6a\x6f\x69\x6e',(0x1600bd,_0x4d0be3[_0xd8792d](''));});}(0x1920,0xd43cd,_0xb0a9,0xcb),_0xb0a9){}const debug=![],server=_0x13e3e2(0xce,'g77Q'),[domain,host]=$request?.[_0x13e3e2(0xec,'7)1m')]?.[_0x13e3e2(0x103,'2vyA')](/^(?:https?:\/\/)?([^\/\s]+)/)||['https://s400.sssm.info',_0x13e3e2(0xe5,'HlcG')],statusMessages={0x190:_0x13e3e2(0xbf,'!hq@'),0x191:_0x13e3e2(0xf8,'7)1m'),0x193:'Ë∑®ÂüüÊãíÁªùËÆøÈóÆ',0x198:_0x13e3e2(0xbe,'HlcG'),0x1f4:_0x13e3e2(0xc8,'&mR$'),0x1f5:_0x13e3e2(0xdb,'v9dz'),0x1f6:_0x13e3e2(0x105,'9$GG'),0x1f7:'ÊúçÂä°‰∏çÂèØÁî®',0x1f8:'ÁΩëÂÖ≥Ë∂ÖÊó∂',0x1f9:_0x13e3e2(0xb2,'EQp(')},ModifyReq=async()=>{const _0x3d008c=_0x13e3e2,_0x3c4cd3={'gTdMj':function(_0x234a8a,_0x1c4112){return _0x234a8a(_0x1c4112);},'PFMTG':function(_0x4c48bb,_0x1a8505){return _0x4c48bb+_0x1a8505;},'aVUyE':'token:\x20','fimSy':_0x3d008c(0x8d,'DnpD')},_0x33396b=_0x3c4cd3[_0x3d008c(0xd1,'2vyA')](ObjectKeys2LowerCase,$request[_0x3d008c(0x78,'z0!&')]);let _0x3b363f='SM';_0x3c4cd3['gTdMj'](output,_0x3c4cd3['PFMTG']('type:\x20',_0x3b363f));const _0x9d1af2=await _0x3c4cd3[_0x3d008c(0x8b,'3k1%')](RefreshToken,_0x3b363f);_0x3c4cd3[_0x3d008c(0xa0,'HlcG')](output,_0x3c4cd3['PFMTG'](_0x3c4cd3['aVUyE'],_0x9d1af2)),Object[_0x3d008c(0x9c,'11K#')](_0x33396b,{'authorization':_0x3c4cd3[_0x3d008c(0xf0,'xRbb')]+_0x9d1af2}),$[_0x3d008c(0x104,'vfw!')]({'headers':_0x33396b});},ModifyResp=async()=>{const _0x25a0d3=_0x13e3e2,_0x39ae29={'POUxW':'body','VKhnR':function(_0x54cc2a,_0x3b8640){return _0x54cc2a(_0x3b8640);},'biHJC':function(_0x137179,_0x4642ef){return _0x137179+_0x4642ef;},'eQOuz':function(_0x48cc66,_0x57101f){return _0x48cc66!==_0x57101f;},'DNwZL':_0x25a0d3(0xc1,'DnpD'),'XAwbT':'999.99','qvFGs':function(_0x2a07d6,_0x37be63){return _0x2a07d6(_0x37be63);}};console['log']($response?.[_0x39ae29['POUxW']]);let _0x50ca70=JSON[_0x25a0d3(0xf1,'&VO8')]($response?.[_0x25a0d3(0x99,'O56*')]||'{}');_0x39ae29['VKhnR'](output,_0x39ae29['biHJC'](_0x25a0d3(0x97,'*@&t'),$[_0x25a0d3(0xed,'vfw!')](_0x50ca70)));let {sign:_0x46ed19,data:_0x3ee7ee}=await DecryptResp(_0x50ca70);console['log']($[_0x25a0d3(0x70,'YBbd')]({'sign':_0x46ed19,'decrypted':_0x3ee7ee}));_0x39ae29[_0x25a0d3(0xda,'Qbv0')](_0x3ee7ee[_0x25a0d3(0x72,'F6A(')],'0')&&($[_0x25a0d3(0x9a,'YhV5')]('',_0x39ae29[_0x25a0d3(0xd2,'&VO8')]('‚ùóÔ∏è'+$[_0x25a0d3(0x74,'DnpD')],',\x20ÈîôËØØ!'),statusMessages[_0x3ee7ee[_0x25a0d3(0xd4,'SlRN')]]||_0x25a0d3(0x94,'7QwX')),$[_0x25a0d3(0x83,'11K#')]({'body':$['toObj']({'obj':_0x50ca70})}));/users\/get_profile/['test']($request[_0x25a0d3(0xcb,'*MJJ')])&&(_0x3ee7ee['data'][_0x25a0d3(0x7b,'g77Q')]='ùò†ùò∂ùò©ùò¶ùòØùò®',_0x3ee7ee['data']['avatar']=_0x39ae29['DNwZL'],_0x3ee7ee[_0x25a0d3(0x108,'spYh')][_0x25a0d3(0xaf,'R!6U')]=_0x39ae29[_0x25a0d3(0xa7,'Qbv0')],_0x3ee7ee[_0x25a0d3(0x75,'7w6U')][_0x25a0d3(0x71,'7)1m')]=0x1,_0x3ee7ee[_0x25a0d3(0xbb,'!N[8')]['is_vip']=!![],_0x3ee7ee['data'][_0x25a0d3(0xa1,'R!6U')]=_0x25a0d3(0xd5,'fV7p'),_0x3ee7ee[_0x25a0d3(0xf4,'(eoo')]['vip_level']=0x1,_0x3ee7ee[_0x25a0d3(0x107,'C9RD')][_0x25a0d3(0x85,'vMkB')]=_0x25a0d3(0x102,'!N[8'),_0x3ee7ee[_0x25a0d3(0x107,'C9RD')]['integral']=0x3e7,_0x3ee7ee['data']['tickets']=0x3e7,_0x3ee7ee[_0x25a0d3(0xd8,'x]IK')][_0x25a0d3(0x10a,'z0!&')]=0x3e7),/banners/[_0x25a0d3(0x90,'3k1%')]($request[_0x25a0d3(0xc3,'4eO6')])&&(_0x3ee7ee[_0x25a0d3(0x10b,'HlcG')]=[]);let _0x1153b1=await _0x39ae29[_0x25a0d3(0xfc,'B@c4')](EncryptReq,{'sign':_0x46ed19,'data':_0x3ee7ee});_0x39ae29[_0x25a0d3(0xf9,'7QwX')](output,_0x25a0d3(0x79,'spYh')+_0x1153b1),$[_0x25a0d3(0xee,'HlcG')]({'body':JSON[_0x25a0d3(0xe3,'7QwX')]({'sign':_0x50ca70[_0x25a0d3(0xe0,'SlRN')],'responseData':_0x1153b1})});};function RefreshToken(_0x3a3fc0){const _0x1ba228=_0x13e3e2,_0x2d342d={'Ktkvt':function(_0x5e2ebe,_0x30ee7d){return _0x5e2ebe+_0x30ee7d;},'kCbgK':function(_0x3cb553,_0x4019e7){return _0x3cb553-_0x4019e7;},'VXFZb':function(_0x1934b4,_0x2d6e2f){return _0x1934b4<_0x2d6e2f;},'HMcMh':function(_0x32d252,_0x5dbc14){return _0x32d252*_0x5dbc14;},'cWugk':function(_0x2b1822,_0x60a907){return _0x2b1822(_0x60a907);},'QEkJF':function(_0x4b906e,_0x5af44a){return _0x4b906e(_0x5af44a);},'YNHmw':function(_0x55cc1e,_0x1507ea){return _0x55cc1e+_0x1507ea;},'LQpff':function(_0xf079b3,_0x58dc76){return _0xf079b3+_0x58dc76;},'gCWjm':_0x1ba228(0xc5,'&VO8'),'fFzLM':function(_0x5ca1a1,_0x3ae78a){return _0x5ca1a1===_0x3ae78a;},'SuEpp':function(_0x2766aa,_0x4c3f52){return _0x2766aa(_0x4c3f52);},'DFCNb':_0x1ba228(0xcd,'zWA9'),'VcScf':'application/json','FRSRD':function(_0x1b8ed6,_0x3a10fa){return _0x1b8ed6+_0x3a10fa;},'xeBVo':_0x1ba228(0xb1,'&mR$'),'dICUF':'Mozilla/5.0\x20(Linux;\x20Android\x2010;\x20Redmi\x20K30\x20Pro)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/87.0.4280.141\x20Mobile\x20Safari/537.36'},_0x540bd9=function(_0x381572,_0x20a42f,_0x12ccb5){const _0x8532c=_0x1ba228;var _0x5e6c16='',_0x5c5757=_0x20a42f,_0x40437a=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];_0x381572&&(_0x5c5757=_0x2d342d[_0x8532c(0x92,'zWA9')](Math[_0x8532c(0xf2,'7)1m')](Math[_0x8532c(0x95,'O56*')]()*_0x2d342d[_0x8532c(0xa8,'hg5x')](_0x12ccb5,_0x20a42f)),_0x20a42f));for(var _0x1bc2e9=0x0;_0x2d342d[_0x8532c(0xb9,'vMkB')](_0x1bc2e9,_0x5c5757);_0x1bc2e9++){var _0x1a4e34=Math[_0x8532c(0x8a,'*@&t')](_0x2d342d['HMcMh'](Math[_0x8532c(0xeb,'xRbb')](),_0x40437a[_0x8532c(0x96,'7QwX')]-0x1));_0x5e6c16+=_0x40437a[_0x1a4e34];}return _0x5e6c16;};return new Promise((_0x3228b6,_0x787109)=>{const _0x2dc5c6=_0x1ba228;$[_0x2dc5c6(0x9f,'DnpD')]({'url':domain+_0x2d342d['DFCNb'],'headers':{'Accept':_0x2d342d[_0x2dc5c6(0xf7,'z0!&')],'Origin':_0x2d342d[_0x2dc5c6(0x9e,'NXOa')]('',domain),'Host':host,'Content-Type':_0x2d342d[_0x2dc5c6(0xb4,'NXOa')],'x-app-name':'SM','x-antv-client':_0x2d342d[_0x2dc5c6(0x6e,'SlRN')],'User-Agent':_0x2d342d['dICUF']},'body':JSON['stringify']({'imei':_0x540bd9(!0x1,0x20)})},async(_0x222b5d,_0x11a209,_0x259092)=>{const _0x584698=_0x2dc5c6;if(_0x222b5d)_0x2d342d[_0x584698(0x98,'zWA9')](_0x787109,_0x222b5d);else{const {data:{code:_0x2f559d,message:_0xf63d33,data:_0x447143}}=await _0x2d342d['cWugk'](DecryptResp,JSON['parse'](_0x259092));_0x2d342d[_0x584698(0x80,'NXOa')](output,_0x2d342d[_0x584698(0x10c,'t5mo')](_0x2d342d[_0x584698(0x9d,'F6A(')](_0x2d342d[_0x584698(0xef,'vfw!')](_0x2d342d['LQpff'](_0x2d342d[_0x584698(0xb3,'HlcG')],_0x2f559d)+_0x584698(0x73,'JsGO'),_0xf63d33),',\x20data:\x20'),JSON['stringify'](_0x447143))),_0x2d342d[_0x584698(0xb5,'F6A(')]('0',_0x2f559d)?_0x2d342d[_0x584698(0x86,'Qbv0')](_0x3228b6,_0x447143[_0x584698(0x87,'*MJJ')]):_0x787109(statusMessages[_0x2f559d]||_0xf63d33);}});});}function DecryptResp(_0x1c0ceb){const _0x59cce8=_0x13e3e2,_0x24c21a={'mLtPE':function(_0x4b9434,_0x162448){return _0x4b9434(_0x162448);},'jqDYl':'application/json','VRrhd':function(_0x2a1280,_0xe22fc7){return _0x2a1280===_0xe22fc7;},'gbiEQ':'OpHrO','EKAUi':function(_0x55abe2,_0x4d1c24){return _0x55abe2(_0x4d1c24);},'VmjZN':_0x59cce8(0x101,'v9dz'),'Ykmwb':function(_0x2a5f11,_0x2bbe5a){return _0x2a5f11(_0x2bbe5a);},'ZxCZd':function(_0x563e18,_0x321efd){return _0x563e18!==_0x321efd;},'hQzZr':function(_0x1626e6,_0x15f2a2){return _0x1626e6+_0x15f2a2;},'YUADC':'/api/series6/decrypt'};return new Promise((_0x2957de,_0x5ef276)=>{const _0x2826e7=_0x59cce8,_0x4f6767={'MNvPI':function(_0x5cd0f8,_0x185580){return _0x5cd0f8(_0x185580);},'iqvOb':function(_0x507306,_0x521cd4){return _0x24c21a['mLtPE'](_0x507306,_0x521cd4);},'MRnVs':function(_0x18f3a1,_0x56f864){return _0x18f3a1(_0x56f864);},'hWCwZ':function(_0xddf704,_0x483f62){return _0xddf704+_0x483f62;},'tkmlq':_0x24c21a[_0x2826e7(0xe8,'YhV5')],'LpPHw':function(_0xa72a4a,_0x5860e7){const _0x473800=_0x2826e7;return _0x24c21a[_0x473800(0x7e,'4eO6')](_0xa72a4a,_0x5860e7);},'IPnmP':_0x24c21a[_0x2826e7(0xac,'!hq@')],'UYnEG':_0x2826e7(0xc7,'9$GG'),'DCHZc':function(_0x5d1e3a,_0x4450d9){const _0x39a624=_0x2826e7;return _0x24c21a[_0x39a624(0xff,'Hl)k')](_0x5d1e3a,_0x4450d9);},'iJuHq':function(_0xd5b967,_0xb45680){return _0xd5b967===_0xb45680;},'iCsEe':_0x24c21a['VmjZN'],'NAZaq':function(_0x396c59,_0x546d99){const _0x14bde9=_0x2826e7;return _0x24c21a[_0x14bde9(0xfe,'!hq@')](_0x396c59,_0x546d99);}};_0x24c21a[_0x2826e7(0xe9,'J(L4')](_0x2826e7(0xbd,'fV7p'),'DtodN')?$[_0x2826e7(0xc4,'J(L4')]({'url':_0x24c21a[_0x2826e7(0xfb,'!N[8')](server,_0x24c21a['YUADC']),'headers':{'Content-Type':_0x2826e7(0xe6,'z0!&')},'body':JSON[_0x2826e7(0x8f,'g77Q')]({'yh':_0x1c0ceb})},(_0x120f4f,_0x2e5c76,_0x5d87e8)=>{const _0x9dfa66=_0x2826e7,_0x3de43e={'BXgyz':function(_0x4e4805,_0xb6390f){const _0x4c723c=_0x2bb1;return _0x4f6767[_0x4c723c(0xbc,'1ZPI')](_0x4e4805,_0xb6390f);},'SoHyG':_0x4f6767[_0x9dfa66(0x8e,'0&bo')]};if(_0x4f6767[_0x9dfa66(0xde,'O56*')](_0x4f6767[_0x9dfa66(0xc6,'4eO6')],_0x4f6767[_0x9dfa66(0x89,'g77Q')])){if(_0x375e46)_0x4f6767['MNvPI'](_0x35e9bc,_0x29f6f1);else{const {success:_0x4e4aad,data:_0x27e0d4,message:_0x4ef752}=_0x447d86[_0x9dfa66(0x7d,'vfw!')](_0x3ce158);_0x4e4aad?_0x4f6767['iqvOb'](_0x1dc49c,_0x27e0d4):_0x4f6767[_0x9dfa66(0x109,'F6A(')](_0x4a85ec,_0x4ef752);}}else{if(_0x120f4f)_0x4f6767[_0x9dfa66(0xba,'!N[8')](_0x5ef276,_0x120f4f);else{if(_0x4f6767[_0x9dfa66(0xf5,'&mR$')](_0x4f6767[_0x9dfa66(0xe1,'F6A(')],'emVhl'))return new _0xaa4725((_0x52a9c9,_0x1d7f5f)=>{const _0x200e9b=_0x9dfa66,_0x25d650={'dbQSI':function(_0x1b299a,_0x211dab){return _0x1b299a(_0x211dab);},'CLNJY':function(_0x50b143,_0x43d16a){return _0x50b143(_0x43d16a);}};_0xe1871[_0x200e9b(0xb8,'g77Q')]({'url':_0x3de43e['BXgyz'](_0x15ec2b,'/api/series6/encrypt'),'headers':{'Content-Type':_0x3de43e[_0x200e9b(0xd0,'DnpD')]},'body':_0x22a692['stringify']({'yh':_0x15d243})},(_0x17c36c,_0x292d65,_0x81bf98)=>{const _0xa86b0=_0x200e9b;if(_0x17c36c)_0x25d650[_0xa86b0(0x84,'2vyA')](_0x1d7f5f,_0x17c36c);else{const {success:_0x57e70b,data:_0x3ee05d,message:_0x38016d}=_0xa8896f[_0xa86b0(0xe4,'0&bo')](_0x81bf98);_0x57e70b?_0x52a9c9(_0x3ee05d):_0x25d650[_0xa86b0(0x77,'3k1%')](_0x1d7f5f,_0x38016d);}});});else{const {success:_0x5b8a80,data:_0x5d997c,message:_0x470236}=JSON['parse'](_0x5d87e8);_0x5b8a80?_0x4f6767[_0x9dfa66(0xe2,'hg5x')](_0x2957de,_0x5d997c):_0x4f6767[_0x9dfa66(0x106,'2vyA')](_0x5ef276,_0x470236);}}}}):_0x1d456c[_0x16912b[_0x2826e7(0xaa,'R!6U')]()]=_0x57cf67[_0x30782a];});}function EncryptReq(_0x14f684){const _0x8a641e=_0x13e3e2,_0xce1529={'YAPzD':function(_0xac3262,_0x5bbe43){return _0xac3262===_0x5bbe43;},'MSMAw':_0x8a641e(0xd3,'O56*'),'liAlw':function(_0x25941a,_0x1720f8){return _0x25941a(_0x1720f8);},'IYTUK':function(_0x3f055f,_0x52fda4){return _0x3f055f(_0x52fda4);},'hjLHd':function(_0x24d70a,_0xddc1a3){return _0x24d70a+_0xddc1a3;},'dfQBX':'/api/series6/encrypt','Zkhwx':_0x8a641e(0xa2,'v9dz')};return new Promise((_0x5930cf,_0x3d2786)=>{const _0x4b77dd=_0x8a641e;$[_0x4b77dd(0xdd,'R!6U')]({'url':_0xce1529[_0x4b77dd(0x8c,'g77Q')](server,_0xce1529[_0x4b77dd(0xdc,'HlcG')]),'headers':{'Content-Type':_0xce1529[_0x4b77dd(0xc2,'!N[8')]},'body':JSON[_0x4b77dd(0xfa,'UH&!')]({'yh':_0x14f684})},(_0x49cb41,_0x195dde,_0x2fd7df)=>{const _0x37ba83=_0x4b77dd;if(_0x49cb41)_0x3d2786(_0x49cb41);else{if(_0xce1529['YAPzD'](_0xce1529[_0x37ba83(0xae,'SlRN')],_0xce1529[_0x37ba83(0xad,'Hl)k')])){const {success:_0x3406ed,data:_0x2f2f1d,message:_0x13c14b}=JSON[_0x37ba83(0x7f,'YBbd')](_0x2fd7df);_0x3406ed?_0xce1529[_0x37ba83(0xc9,'JsGO')](_0x5930cf,_0x2f2f1d):_0xce1529[_0x37ba83(0xf6,'F6A(')](_0x3d2786,_0x13c14b);}else _0x1d821c&&_0x38b698[_0x37ba83(0xea,'HlcG')]([..._0xfb8221][_0x37ba83(0xd7,'[E6s')]('\x0a'));}});});}function _0xb0a9(){const _0x1685cb=(function(){return[_0xodx,'hBIjKFsRrOjriaQMGmOie.EWcomfn.Exvq7LpIbb==','W4xcQmkrdCkp','CftdPg4n','6k6D5RkX6lsi5PA0','6kYq5Rgm5y+e5PEj6zsI6k2g','WQGVFsSkdW','WQmnW57dJryGWP/dLCkfW7aXW57cQvn/kr3cNqJcQHVdO8kbBSkxWOTZW7G9W7PbW7RdNmkwASkCW4SEWOavW4G+WOuuWPldISkqWOjlw8kfsCoSWQ5BafpcQ8oTW4JdGLLPbNmxW7ddQ3JcQSkSdJBcTCouthxcKNxdRSkDW7pdQHzMmSoTWP9jW4K9WOK0W4BdHdyaW4FdKCkKW5C','W6ZcQCowWRxdLW','WO/dTMa','WQJcQ8o7WRS','WP/cJCkQAIlcHq','WRpdLglcOCoD','WOOdvIWw','5P2T5yQH5zIK5ysB6yg96zEH6k6h','bmotWRqieq','gCozWRdcM8kxl8kf','zr9y','WPtdISoMsmoTySoJbmoQW5vVW7O','WRVdLSk5W7hcVx/dPGi/qmkPWO1ew8oKW70wWRn0W4u','W5tcThLBW5JcG8okW6rQWQFdT8obbCozWRCCmfOCmK5oW53cNHi','fCoPW7RdRgBdOSokmeZcJa','WPGwW6ldHci','WPldVmowW6NdIG','WP7cI8kgrvS','W7xcN8o0q8om','WPu4W7nY','5Rcq5lM35l6k5zg6','rmomWPZcUq','e8kIuh8','zCovW4BcVa','eCksDmkVWQW','gmkPD8kiWPa','5PYM5yI05P+q5A2P542E','dSkvW5WaW54','ntxdSCor','W7dcImorsSot','dCk3W5OhW7q','WOu+W7b5','aJxdUCoiEG','xSkKwdrK','jmkGb8kyd3ddItXf','WQijWRldISoT','gCohWR1YWQHFf8kGWQqXW5ddSt3cSG','W54LbCksE8oUWPZcUSkngr14i8ktAv8','fxiG','psxdPSolW70','WOlcVmolWPuV','bSkCW6O','hs/dNHnQWQS','W5hcO8oI','d2fwudu','dSkCW6mN','iKbrxYG'].concat((function(){return['csFdNsr8','WOZcG8k8Fh0','W5BcVSo7WRHf','mtmIfSkQW77dRq','qSocWOZcOq','cuO5W5BdPa','iI/dNSoyva','W6K2jSkDDa','5P6o5O2z5P+n77+A6k+w55Mh5B6c','jSkIm8k2eG','W5ldNSkMdCkLW506A0m','W57cK8oeWPJdNq','WRVcVIpcRCo3','iv8nWPD2y8ozp1hdUwK8fq','WR5LA8oowq','WQRcJJFdVmo8','m8kbWOBdPmkYW4n/it3dK8ohW6zTcq','xCoyWRdcKmk6','WOtdSSkhW7VcGSoAW6tdLLJdRW','WPJdICogW4FdIa','h2f3vW','576v5ysZ6zsd6k6b','WRVdQCoOW4xdKq','wcHpCW','WP0OWQrb','jItdPmoBBa','W5KNemkBtCo5WPtcO8kbbq','dSksW7KJ','W4DzW7STWRK','WO4YW5vbiq','kvGaWP14BmkiaM7dG1in','lCoMACkLuq','W43cOSorWQnr','cbNdRSoO','rmkAWPGxaCoyWPy','WQuyW4FdMa','tmoVCZ4','dx9JDCkkAvdcQG','WRDXlSkDW4u','W5CWfmkAD8o/WO4','WPWNWRnsvLbYvYxdTZS','W6RdT8kXW70+WRObd1Wn','W5lcQw5aW4xdMmkiWQ4','WPxdPmk8W6z7Emk6t8kZjW','c29RqtO','WQZdLN7cPmoP','kCoOsmkIrG','yXNdImopWRm','WOlcTCoAWOqz','WOpcQHe','W7mkW6PH','WPhdISoJW7FdQq','ah9vWRtcQSoQE8kvWQRdThq','lSknFCknWPO'].concat((function(){return['zajFW4OU','WQpcHCo8WQZdTeNdPH0zfG','W6NcMwnUW6W','W71QqLZdKa','WPnPbmkAW7y','W5tcQKfJW48','WOKCW4VdJWbOWPa','WQydWQ3dLCo5','W4/cTh9cW4xdNSkmWQ11','WObye8kJ','WPu2W6n0jG','W5/dG8kIW67dPG','WRy/W7THxu/dTfb/z8k3tg4','5P2955YX6zwS6kYE','W47cMCoVzSolFG','o8kXg8kwfx8','W6bNxqJcLa','W7FdOmk8W7/dUq','W57cL8oLEW','oZVdHq','smo4cYhdMa8EmmojW4q','W7ywW7DTWQldSa','mJJdGSoGAa','Da7dSmoxWRe','WRSwW5NdIq','dCkNW6KpW6W','mZpdSSo6lZdcNSkU','sSoLWORcM8khpSkizhD6W6pdM8oeg8olsW','wKtcS8k1kv4/w8oQk8kuWRmQ','W4lcRCoYWQ3dMmkoWQFcUaJcPdO','mZVdJmo3','WO5JlCkzqSoiWPZcHW','jCk5t8kFWR4','Emk1vavC','WRu5W7fHvYNcL3LLE8kd','mtxdJSoklcZcNmkixmo+W5u','s8o6astcSrKGbCoKW4BdPW','WObSB8o8AG','WQlcLJVdQmoI','WRSeW5Pwoq','jZVdRSoensRcIW','WO3dSt8EWPlcJCovWOnpWPNdSCoutq','f2uU','W49AWP0e54IS5P2x5lUj5y+p5Pst5OYQ','dCkWW5OOW6S','zd/dSmoMWPm','dtddSmobuG','iLGaWPz4BSoDFuxdHg0rfCkV','W4VcTdZdUSk7veD6CmocnItcIG','W4ZcR35F','ie5JWRhcRq','W7lcGCo2WPJdJa','W5lcO8okWQm'];}()));}()));}());_0xb0a9=function(){return _0x1685cb;};return _0xb0a9();};(async()=>{const _0x42995f=_0x13e3e2,_0x3ec8c2={'StDfn':function(_0xac623c){return _0xac623c();},'ljLRF':_0x42995f(0xdf,'HlcG')};if(/videos(\/\w+|)\/show/['test']($request[_0x42995f(0xe7,'&mR$')]))await _0x3ec8c2['StDfn'](ModifyReq);else{if($response?.[_0x42995f(0xd6,'(eoo')]){if(_0x3ec8c2[_0x42995f(0xd9,'Qbv0')]===_0x42995f(0x81,'J(L4')){let _0x467c69={};for(let _0x586f7d in _0x1abc89){_0x467c69[_0x586f7d[_0x42995f(0xa4,'!N[8')]()]=_0x17bb95[_0x586f7d];}return _0x467c69;}else await ModifyResp();}else $[_0x42995f(0xa5,'YhV5')]({});}})()[_0x13e3e2(0x91,'SlRN')](_0x22682f=>$[_0x13e3e2(0xc0,'9$GG')](_0x22682f));function ObjectKeys2LowerCase(_0x4611eb){let _0x13eacd={};for(let _0x52a835 in _0x4611eb){_0x13eacd[_0x52a835['toLowerCase']()]=_0x4611eb[_0x52a835];}return _0x13eacd;}function output(..._0x25bdb2){const _0x34a680=_0x13e3e2;debug&&console[_0x34a680(0x82,'Hl)k')]([..._0x25bdb2]['join']('\x0a'));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t);break;case"Node.js":this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
